<div class="relative h-[70vh] w-screen overflow-hidden">
  <!-- Slides -->
  @for (movie of movies; track movie.id; let i = $index) {
  <div
    class="absolute w-full h-full transition-all duration-700 ease-in-out transform"
    [class.opacity-100]="i === currentIndex()"
    [class.opacity-0]="i !== currentIndex()"
    [class.translate-x-0]="i === currentIndex()"
    [class.translate-x-full]="i > currentIndex()"
    [class.translate-x-[-100%]]="i < currentIndex()"
  >
    <!-- Imagen de fondo -->
    <div
      class="absolute inset-0 bg-cover bg-center bg-no-repeat"
      [style.background-image]="
        'url(' + getBackgroundImage(movie.backdrop_path) + ')'
      "
    >
      <!-- Overlay gradiente -->
      <div
        class="absolute inset-0 bg-gradient-to-r from-black via-black/70 to-transparent"
      ></div>
    </div>

    <!-- Contenido -->
    <div class="relative z-10 h-full flex items-center p-20">
      <div class="max-w-2xl text-white">
        <h2 class="text-4xl md:text-5xl font-bold mb-4">{{ movie.title }}</h2>
        <p class="text-lg md:text-xl mb-6 line-clamp-3">{{ movie.overview }}</p>
        <div class="flex items-center gap-4">
          <div class="flex items-center bg-pink-500 rounded-full px-4 py-2">
            <span class="text-white font-semibold">{{
              movie.vote_average.toFixed(1)
            }}</span>
          </div>
          <a
            [routerLink]="['/pelicula', movie.id]"
            class="inline-flex items-center px-6 py-3 bg-pink-600 hover:bg-pink-700 rounded-lg transition-colors duration-300"
          >
            <span class="text-white font-semibold">Ver más</span>
            <svg
              xmlns="http://www.w3.org/2000/svg"
              class="h-5 w-5 ml-2"
              fill="none"
              viewBox="0 0 24 24"
              stroke="currentColor"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M9 5l7 7-7 7"
              />
            </svg>
          </a>
        </div>
      </div>
    </div>
  </div>
  }

  <!-- Controles -->
  <div
    class="absolute bottom-5 left-0 right-0 flex justify-center items-center gap-3 z-20"
  >
    @for (movie of movies; track movie.id; let i = $index) {
    <button
      (click)="goToSlide(i)"
      class="w-3 h-3 rounded-full transition-all duration-300"
      [class.bg-pink-500]="i === currentIndex()"
      [class.bg-white-50]="i !== currentIndex()"
    ></button>
    }
  </div>

  <!-- Botones de navegación -->
  <button
    (click)="prevSlide()"
    class="absolute left-4 top-1/2 -translate-y-1/2 bg-black/30 hover:bg-black/50 text-white p-3 rounded-full transition-colors duration-300 z-20"
  >
    <svg
      xmlns="http://www.w3.org/2000/svg"
      class="h-6 w-6"
      fill="none"
      viewBox="0 0 24 24"
      stroke="currentColor"
    >
      <path
        stroke-linecap="round"
        stroke-linejoin="round"
        stroke-width="2"
        d="M15 19l-7-7 7-7"
      />
    </svg>
  </button>

  <button
    (click)="nextSlide()"
    class="absolute right-4 top-1/2 -translate-y-1/2 bg-black/30 hover:bg-black/50 text-white p-3 rounded-full transition-colors duration-300 z-20"
  >
    <svg
      xmlns="http://www.w3.org/2000/svg"
      class="h-6 w-6"
      fill="none"
      viewBox="0 0 24 24"
      stroke="currentColor"
    >
      <path
        stroke-linecap="round"
        stroke-linejoin="round"
        stroke-width="2"
        d="M9 5l7 7-7 7"
      />
    </svg>
  </button>
</div>
